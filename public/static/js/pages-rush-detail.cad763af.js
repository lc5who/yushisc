(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-rush-detail"],{"04c8":function(t,e,n){var o=n("c86c");e=o(!1),e.push([t.i,'.goods[data-v-082c34ea]{width:100%;height:300px;position:relative}.goods .goods-img[data-v-082c34ea]{width:100%;height:260px}.goods-info[data-v-082c34ea]{width:95%;height:40px;line-height:40px;background-color:#d76f6c;padding:0 10px;position:absolute;left:0;bottom:0}.goods-info uni-text[data-v-082c34ea]{color:#fff;font-size:14px}.goods-info .guidhu[data-v-082c34ea]{float:right}.goods-name[data-v-082c34ea]{width:100%;height:50px;line-height:50px;font-size:16px;font-weight:700;padding:0 10px}.goods-xiangqing[data-v-082c34ea]{width:100%;height:80px;padding:20px 0}.goods-xiangqing .xiangqing-name[data-v-082c34ea]{width:57px;height:40px;line-height:40px;font-size:14px;text-align:center;color:#999;margin:0 auto;position:relative}.goods-xiangqing .xiangqing-name[data-v-082c34ea]::before{display:block;content:"";width:100px;height:1px;background-color:#efefef;position:absolute;left:-110px;top:0;bottom:0;margin:auto auto}.goods-xiangqing .xiangqing-name[data-v-082c34ea]::after{display:block;content:"";width:100px;height:1px;background-color:#efefef;position:absolute;right:-110px;top:0;bottom:0;margin:auto auto}.content[data-v-082c34ea]{width:100%;height:auto;margin:20px 0;padding:0 20px}.content .html-content[data-v-082c34ea]{width:100%;height:auto}.daojishi[data-v-082c34ea]{width:100%;height:44px;line-height:44px;color:#fff;text-align:center;background-color:#d76f6c;position:fixed;left:0;bottom:0}.goumai[data-v-082c34ea]{width:100%;height:44px;line-height:44px;color:#fff;text-align:center;background-color:#67a605;position:fixed;left:0;bottom:0}',""]),t.exports=e},"32b7":function(t,e,n){"use strict";n("6a54");var o=n("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("bf0f"),n("d4b5"),n("5ef2"),n("5c47"),n("0506"),n("2797"),n("dc8a");var a=o(n("2634")),i=o(n("9b1b")),r=o(n("2fdc")),u=o(n("80b1")),s=o(n("efe5")),d=o(n("39d8")),l=function(){function t(){var e=this;(0,u.default)(this,t),(0,d.default)(this,"config",{baseUrl:"",header:{"content-type":"application/json;charset=UTF-8"},method:"GET",dataType:"json",responseType:"text",custom:{}}),(0,d.default)(this,"interceptor",{request:function(t){t&&(e.requestBeforeFun=t)},response:function(t,n){t&&n&&(e.requestComFun=t,e.requestComFail=n)}})}return(0,s.default)(t,[{key:"requestBeforeFun",value:function(t){return t}},{key:"requestComFun",value:function(t){return t}},{key:"requestComFail",value:function(t){return t}},{key:"validateStatus",value:function(t){return 200===t}},{key:"setConfig",value:function(t){this.config=t(this.config)}},{key:"request",value:function(){var e=(0,r.default)((0,a.default)().mark((function e(){var n,o=this,r=arguments;return(0,a.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=r.length>0&&void 0!==r[0]?r[0]:{},n.baseUrl=this.config.baseUrl,n.dataType=n.dataType||this.config.dataType,n.responseType=n.responseType||this.config.responseType,n.url=n.url||"",n.data=n.data||{},n.params=n.params||{},n.header=n.header||this.config.header,n.method=n.method||this.config.method,n.custom=(0,i.default)((0,i.default)({},this.config.custom),n.custom||{}),e.abrupt("return",new Promise((function(e,a){var r=!0,u={};n.complete=function(t){t.config=u,o.validateStatus(t.statusCode)?(t=o.requestComFun(t),e(t)):(t=o.requestComFail(t),a(t))};u=(0,i.default)({},o.requestBeforeFun(n,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"handle cancel",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n,o={errMsg:t,config:e};a(o),r=!1})));var s=(0,i.default)({},u);if(r){delete s.custom;var d=t.posUrl(s.url)?s.url:s.baseUrl+s.url;if("{}"!==JSON.stringify(s.params)){var l=t.addQueryString(s.params);d+=-1===d.indexOf("?")?"?".concat(l):"&".concat(l)}s.url=d,uni.request(s)}})));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request((0,i.default)({url:t,method:"GET"},e))}},{key:"post",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request((0,i.default)({url:t,data:e,method:"POST"},n))}},{key:"put",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request((0,i.default)({url:t,data:e,method:"PUT"},n))}},{key:"delete",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request((0,i.default)({url:t,data:e,method:"DELETE"},n))}},{key:"connect",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request((0,i.default)({url:t,data:e,method:"CONNECT"},n))}},{key:"head",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request((0,i.default)({url:t,data:e,method:"HEAD"},n))}},{key:"options",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request((0,i.default)({url:t,data:e,method:"OPTIONS"},n))}},{key:"trace",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request((0,i.default)({url:t,data:e,method:"TRACE"},n))}},{key:"upload",value:function(e,n){var o=this,a=n.filePath,r=n.name,u=n.header,s=n.formData,d=n.custom;return new Promise((function(n,l){var c=!0,f={},h=(0,i.default)({},o.config.header);delete h["content-type"];var g={baseUrl:o.config.baseUrl,url:e,filePath:a,method:"UPLOAD",name:r,header:u||h,formData:s,custom:(0,i.default)((0,i.default)({},o.config.custom),d||{}),complete:function(t){t.config=f,200===t.statusCode?(t=o.requestComFun(t),n(t)):(t=o.requestComFail(t),l(t))}};f=(0,i.default)({},o.requestBeforeFun(g,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"handle cancel",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g,n={errMsg:t,config:e};l(n),c=!1})));var v=(0,i.default)({},f);c&&(delete v.custom,v.url=t.posUrl(v.url)?v.url:v.baseUrl+v.url,uni.uploadFile(v))}))}}],[{key:"posUrl",value:function(t){return/(http|https):\/\/([\w.]+\/?)\S*/.test(t)}},{key:"addQueryString",value:function(t){var e="";return Object.keys(t).forEach((function(n){e+=n+"="+encodeURIComponent(t[n])+"&"})),e.substring(0,e.length-1)}}]),t}();e.default=l},"5a71":function(t,e,n){"use strict";n.r(e);var o=n("c046"),a=n.n(o);for(var i in o)["default"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(i);e["default"]=a.a},"75ff":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o}));var o={uvNavbar:n("de6e").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("uv-navbar",{attrs:{leftIconColor:t.navstyle.txtColor,titleStyle:t.titleStyle,title:t.navstyle.title,leftIcon:t.navstyle.leftIcon,bgColor:t.navstyle.bgColor,fixed:!1,safeAreaInsetTop:!1},on:{leftClick:function(e){arguments[0]=e=t.$handleEvent(e),t.leftClick.apply(void 0,arguments)}}}),n("v-uni-view",{staticClass:"goods"},[n("v-uni-image",{staticClass:"goods-img",attrs:{src:t.rushInfo.goodsimage,mode:""}}),n("v-uni-view",{staticClass:"goods-info"},[n("v-uni-text",{staticClass:"jiage"},[t._v("￥"+t._s(t.rushInfo.goodsPrice))]),n("v-uni-text",{staticClass:"guidhu"},[t._v("归属人："+t._s(t.rushInfo.username))])],1)],1),n("v-uni-view",{staticClass:"goods-name"},[t._v(t._s(t.rushInfo.goodsName))]),n("v-uni-view",{staticClass:"goods-xiangqing"},[n("v-uni-view",{staticClass:"xiangqing-name"},[t._v("商品详情")])],1),n("v-uni-view",{staticClass:"content"},[n("v-uni-view",{staticClass:"html-content",domProps:{innerHTML:t._s(t.rushInfo.goodsContent)}})],1),t.buyFlag?t._e():n("v-uni-view",{staticClass:"daojishi"},[t._v("倒计时"+t._s(t.countdownTime))]),t.buyFlag?n("v-uni-view",{staticClass:"goumai",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.createClick.apply(void 0,arguments)}}},[t._v("立即购买")]):t._e()],1)},i=[]},"7d0c":function(t,e,n){"use strict";n("6a54");var o=n("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.caplogDetail=function(t){return(0,a.default)({method:"get",url:"/user/caplogdetail",data:t})},e.checkShare=function(t){return(0,a.default)({method:"POST",url:"/login/checkshare",data:t})},e.draw=function(t){return(0,a.default)({method:"POST",url:"/user/draw",data:t})},e.drawInfo=function(){return(0,a.default)({method:"GET",url:"/user/drawInfo"})},e.drawList=function(){return(0,a.default)({method:"GET",url:"/user/drawList"})},e.loginOut=function(){return(0,a.default)({method:"POST",url:"/login/loginOut"})},e.memberInfo=function(){return(0,a.default)({method:"GET",url:"/user/userInfo"})},e.memberLogin=function(t){return(0,a.default)({method:"POST",url:"/login/login",data:t})},e.qgDetail=function(){return(0,a.default)({method:"GET",url:"/qg/index"})},e.rechargeData=function(t){return(0,a.default)({method:"POST",url:"/user/recharge",data:t})},e.rechargeMethod=function(t){return(0,a.default)({method:"POST",url:"/index/rechargeMethod",data:t})},e.registerUser=function(t){return(0,a.default)({method:"POST",url:"/login/register",data:t})},e.retrievePass=function(t){return(0,a.default)({method:"POST",url:"/user/retrieve",data:t})},e.saveInfo=function(t){return(0,a.default)({method:"POST",url:"/user/saveInfo",data:t})};var a=o(n("a064"))},9314:function(t,e,n){"use strict";n("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.USE_ALIPAY=e.API_BASE_URL=void 0;e.API_BASE_URL="https://szx.wuxueqz.com/api";e.USE_ALIPAY=!1},a064:function(t,e,n){"use strict";n("6a54");var o=n("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.request=s,n("bf0f");var a=o(n("9b1b")),i=o(n("32b7")),r=n("9314"),u=new i.default;function s(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return u.request(t)}u.setConfig((function(t){return t.baseUrl=r.API_BASE_URL,t.header=(0,a.default)({},t.header),t})),u.validateStatus=function(t){return 200===t},u.interceptor.request((function(t,e){var n=uni.getStorageSync("token");return console.log(n,4444),t.header=n?(0,a.default)({Token:n},t.header):(0,a.default)({},t.header),t})),u.interceptor.response((function(t){var e=t.data;return console.log(e,111111),1!==e.code?(console.log(e,22222),uni.showToast({title:e.msg,duration:1500}),401===e.code&&uni.showModal({title:"提示",content:"你已被登出，可以取消继续留在该页面，或者重新登录",confirmText:"重新登录",cancelText:"取消",success:function(t){t.confirm?uni.navigateTo({url:"/pages/user/login"}):t.cancel&&console.log("用户点击取消")}}),Promise.reject(t)):t.data}),(function(t){return console.log("response error",t),uni.showToast({title:t.data.msg,duration:1500}),Promise.reject(t)}));var d=s;e.default=d},c046:function(t,e,n){"use strict";n("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("fd3c"),n("64aa"),n("c223"),n("795c"),n("c9b5"),n("bf0f"),n("ab80");var o=n("7d0c"),a=n("f817"),i={data:function(){return{navstyle:{title:"商品详情",txtColor:"#333333",bgColor:"#FFFFFF",leftIcon:"arrow-left"},titleStyle:{fontWeight:700},rushInfo:{},id:null,isVip:"",timer:null,countdownTime:"21:20:00",buyFlag:!1}},onLoad:function(t){var e=this;this.id=t.id,(0,a.fetchrushDetail)(this.id).then((function(t){console.log(t,4444),e.rushInfo=t.data,e.startCountdown()})),(0,a.fetchRushIndex)().then((function(t){e.countdownTime=t.data.starttime})),(0,o.memberInfo)().then((function(t){e.isVip=t.data.isVip,console.log(e.isVip)}))},beforeDestroy:function(){this.stopCountdown()},methods:{leftClick:function(){uni.reLaunch({url:"/pages/rush/list"})},startCountdown:function(){var t=this,e=new Date,n=this.countdownTime.split(":").map(Number);e.setHours(n[0],n[1],n[2],0);var o=new Date;if(o>=e)return this.stopCountdown(),this.countdownTime="00小时00分00秒",void(this.buyFlag=!0);if(1===this.isVip&&(e.setMinutes(e.getMinutes()-1),e<o))return this.stopCountdown(),this.countdownTime="00小时00分00秒",void(this.buyFlag=!0);var a=e-o,i=Math.floor(a/1e3%60),r=Math.floor(a/6e4%60),u=Math.floor(a/36e5%24);this.countdownTime="".concat(u.toString().padStart(2,"0"),"小时").concat(r.toString().padStart(2,"0"),"分").concat(i.toString().padStart(2,"0"),"秒"),this.timer=setInterval((function(){o.setSeconds(o.getSeconds()+1);var n=e-o,a=Math.floor(n/6e4%60),i=Math.floor(n/1e3%60);t.countdownTime="".concat(u.toString().padStart(2,"0"),"小时").concat(a.toString().padStart(2,"0"),"分").concat(i.toString().padStart(2,"0"),"秒"),n<=0&&(t.stopCountdown(),t.countdownTime="00小时00分00秒",t.buyFlag=!0)}),1e3)},stopCountdown:function(){this.timer&&(clearInterval(this.timer),this.timer=null)},createClick:function(){(0,a.createOrderRush)(this.id).then((function(t){1==t.code?(uni.showToast({title:t.msg,duration:1500}),setTimeout((function(){uni.reLaunch({url:"/pages/rush/list"})}),3e3)):uni.showToast({title:t.msg,duration:2e3})}))}}};e.default=i},c1c6:function(t,e,n){var o=n("04c8");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var a=n("967d").default;a("71e28572",o,!0,{sourceMap:!1,shadowMode:!1})},d37f:function(t,e,n){"use strict";n.r(e);var o=n("75ff"),a=n("5a71");for(var i in a)["default"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(i);n("f967");var r=n("828b"),u=Object(r["a"])(a["default"],o["b"],o["c"],!1,null,"082c34ea",null,!1,o["a"],void 0);e["default"]=u.exports},f817:function(t,e,n){"use strict";n("6a54");var o=n("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.createOrderRush=function(t){return(0,a.default)({method:"GET",url:"/qg/createOrder?id=".concat(t)})},e.fetchRushIndex=function(t){return(0,a.default)({method:"GET",url:"/qg/index",params:t})},e.fetchRushList=function(t){return(0,a.default)({method:"GET",url:"/qg/goodsList",params:t})},e.fetchrushDetail=function(t){return(0,a.default)({method:"GET",url:"/qg/goodsDetail?id=".concat(t)})};var a=o(n("a064"))},f967:function(t,e,n){"use strict";var o=n("c1c6"),a=n.n(o);a.a}}]);